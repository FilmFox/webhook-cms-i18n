<html>
<head>
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/handlebars/handlebars.js"></script>
  <script src="bower_components/ember/ember.js"></script>
  <script src="bower_components/ember-i18n/lib/i18n.js"></script>
  <script src="lib/code.map.js"></script>
  <script src="lib/translations.js"></script>
  <script src="lib/i18n.js"></script>
  <script src="app.js"></script>
  <link rel="stylesheet" href="wyrm.css">
  <style>
    body {padding: 48px;}
    input[type=text]{width:300px;}
    pre {background: #333;font-size:80%;padding:24px;color: #DDD;}
    .missing {background: #faeced !important}
  </style>
</head>
<body>

<script type="text/x-handlebars" data-template-name="application">
<h1>Webhook CMS i18n</h1>
<p>This is a tool to help create translation files for <a href="https://github.com/webhook/webhook-cms">Webhook CMS</a>. Translation keys are based on the route. Any keys without a value will default to English. HTML and Handlebars variables are allowed. See the <a href="https://github.com/jamesarosen/ember-i18n">Ember.I18n docs</a> for more information.</p>
{{#each supportedLanguages}}
  <button type="button" class="btn btn-neutral btn-small" {{ action "chooseLanguage" code }}>{{language}} ({{code}})</button>
{{/each}}
<button type="button"  class="btn btn-danger btn-small" {{ action "clearLanguage" }}>Clear</button>
<hr>
{{outlet}}
</script>

<script type="text/x-handlebars" data-template-name="index">
{{translation-form}}
</script>

<script type="text/x-handlebars" data-template-name="components/translation-form">

<table class="wy-table wy-table-striped wy-table-bordered-rows full-width">
<thead>
<tr>
  <th>Value</th>
  <th>Key</th>
</tr>
</thead>
<tbody>
{{#each translations}}
  <tr>
    <td style="width:300px" {{bind-attr class="value::missing"}}>{{textarea value=value placeholder=placeholder}}</td>
    <td>{{key}}</td>
  </tr>
{{/each}}
</tbody>
</table>
<p>Save the following to <code>translations/[language].json</code>.</p>
<pre>{{converted}}</pre>

</script>

</body>
</html>
